# 前端快速测试指南

## 🚀 快速启动

### 1. 启动后端服务
```bash
cd backend
source venv/bin/activate
uvicorn app.main:app --reload
```

后端将运行在 `http://localhost:8000`

### 2. 启动前端服务
```bash
cd frontend
npm install
npm run dev
```

前端将运行在 `http://localhost:3000`

### 3. 访问应用
打开浏览器访问: `http://localhost:3000`

## ✅ 功能测试清单

### 1. 会话创建测试
- [ ] 页面加载时自动创建会话
- [ ] 显示"小芽正在赶来..."加载动画
- [ ] 成功创建后显示主界面
- [ ] 显示会话 ID（前 8 位）

### 2. 语音交互测试
- [ ] 点击麦克风按钮
- [ ] 浏览器请求麦克风权限（允许）
- [ ] 麦克风按钮变为红色（停止按钮）
- [ ] 显示"🔴 正在听你说话..."动画
- [ ] 说话时实时显示识别文字
- [ ] 点击停止按钮
- [ ] 发送识别的文字到后端
- [ ] 显示 AI 响应

**测试语音**:
- "1 + 1 等于几？"
- "什么是三角形？"
- "帮我做这道题"

### 3. 拍照交互测试
- [ ] 点击相机按钮
- [ ] 文件选择对话框打开
- [ ] 选择图片文件
- [ ] 显示图片预览
- [ ] 显示"发送给小芽"和"重拍"按钮
- [ ] 点击"发送给小芽"
- [ ] 显示"正在上传..."状态
- [ ] 上传成功后显示 AI 响应
- [ ] 预览区域清空

**测试图片**:
- 数学题照片
- 手写作业照片
- 文字清晰的图片

### 4. 引导响应测试
- [ ] AI 响应以卡片形式显示
- [ ] 显示小芽图标和"小芽老师"标题
- [ ] 显示"引导式教学 - 不直接给答案"标签
- [ ] 显示时间戳
- [ ] 点击"读给我听"按钮
- [ ] 语音播报响应内容
- [ ] 显示智能标签（🎉 做得好、🤔 一起思考、💪 你可以试试）

### 5. 对话历史测试
- [ ] 发送多条消息后
- [ ] 显示"查看更多对话"可折叠区域
- [ ] 点击展开历史记录
- [ ] 显示所有对话（用户和 AI）
- [ ] 用户消息右对齐（绿色背景）
- [ ] AI 消息左对齐（浅绿色背景）

### 6. 错误处理测试
- [ ] 后端服务未启动时
- [ ] 显示错误卡片
- [ ] 显示"😢"表情
- [ ] 显示错误信息
- [ ] 显示"再试一次"按钮
- [ ] 点击后重新创建会话

## 🎨 UI/UX 测试

### 响应式设计
- [ ] 移动端（< 768px）: 单列布局
- [ ] 平板（768px - 1024px）: 双列布局
- [ ] 桌面（> 1024px）: 双列布局，最大宽度 4xl

### 交互反馈
- [ ] 按钮悬停时放大（scale-105）
- [ ] 按钮点击时缩小（scale-95）
- [ ] 麦克风录音时脉冲动画
- [ ] 加载时旋转动画
- [ ] 所有过渡动画流畅

### 颜色和样式
- [ ] 小芽主题色（#8BC34A）正确显示
- [ ] 渐变效果正确
- [ ] 圆角（rounded-3xl）正确
- [ ] 阴影效果正确

## 🔍 浏览器测试

### Chrome（推荐）
- ✅ 语音识别: 完全支持
- ✅ 语音播报: 完全支持
- ✅ 拍照上传: 完全支持

### Safari
- ✅ 语音识别: 支持
- ✅ 语音播报: 支持
- ✅ 拍照上传: 支持

### Edge
- ✅ 语音识别: 支持
- ✅ 语音播报: 支持
- ✅ 拍照上传: 支持

### Firefox
- ❌ 语音识别: 不支持（显示错误提示）
- ✅ 语音播报: 支持
- ✅ 拍照上传: 支持

## 🐛 常见问题

### Q: 麦克风权限被拒绝？
**A**: 在浏览器地址栏左侧点击锁图标，允许麦克风权限，然后刷新页面。

### Q: 语音识别不工作？
**A**:
1. 确保使用 Chrome/Safari/Edge 浏览器
2. 检查麦克风权限
3. 确保有网络连接（Web Speech API 需要网络）

### Q: 后端 API 调用失败？
**A**:
1. 确保后端服务运行在 `http://localhost:8000`
2. 检查浏览器控制台的错误信息
3. 检查 Vite 代理配置（`vite.config.ts`）

### Q: 样式不生效？
**A**:
1. 确保运行了 `npm install`
2. 清除浏览器缓存（Ctrl+Shift+R）
3. 检查 Tailwind 配置

## 📊 性能测试

### 首屏加载时间
- 目标: < 3 秒
- 测试方法: 打开浏览器开发者工具 → Network 标签 → 刷新页面

### 交互响应时间
- 目标: < 100ms
- 测试方法: 点击按钮，观察视觉反馈

### API 响应时间
- 目标: < 2 秒
- 测试方法: 发送语音或图片，观察响应时间

## ✅ 测试完成标准

所有测试项通过后，前端 MVP 可认为已完成：
- ✅ 会话创建成功
- ✅ 语音交互正常
- ✅ 拍照上传正常
- ✅ 引导响应正确显示
- ✅ 对话历史正常
- ✅ 错误处理正常
- ✅ 响应式布局正常
- ✅ 交互反馈流畅

## 🎯 下一步

测试完成后，可以进行：
1. 添加单元测试
2. 优化性能
3. 添加更多功能
4. 修复发现的 bug

---

**测试时间**: 约 15-20 分钟
**测试环境**: Chrome 浏览器推荐
**必要条件**: 后端服务运行中
